<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Reportes</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!-- Link boostrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>

        <link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.css}"/>

    </head>
    <body>
        <a th:href="@{/salirReporte}">regresar</a>
        <div>REPORTES</div>
        <br/>
        <br/>
        <div>
            <form th:action="@{/generarReporte}">
                <label for="fechaDesde"> Desde:</label>
                <input type="date" name="fechaDesde" required="required"/>
                <label for="fechaDesde"> Hasta:</label>
                <input type="date" name="fechaHasta" required="required"/>
                <input type="submit" name="name" value="generar"/>
            </form>
        </div>
        <br/>
        <br/>
        <div th:if="${param.advertencia}" class="alert alert-warning d-flex" role="alert">
            <div class="text-center">
                <i class="fa-solid fa-triangle-exclamation"></i>
                No se encontraron ventas en el rango de fecha para generar reportes
            </div>
        </div>
        <div th:if="${reporte !=null}">
            <table border="1" th:object="${reporte}">

                <tr>
                    <th>Precio de productos en venta </th>
                    <th>Costo de productos en venta</th>
                    <th>Ganancia</th>
                    <th></th>
                </tr>
                <tr>

                    <td th:text="${reporte.precioTotalVentas}" >Mostrar precio venta</td>
                    <td th:text="${reporte.costoTotalVentas}">Mostrar costo venta</td>
                    <td th:text="${reporte.gananciaTotalVentas}">Mostrar total venta</td>
                    <td th:if="${reporte.codigo !=null}"><a th:href="@{/reportePdf/}+${reporte.codigo}">exportar a pdf</a></td>

                </tr>
            </table>
            <a th:href="@{/limpiarReporte}">limpiar</a>
        </div>
        <!-- js de bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>
